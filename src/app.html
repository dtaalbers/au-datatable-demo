<template>
    <require from="./app.scss"></require>

    <div class="container intro">
        <div class="app-version">Current release: ${ appVersion }</div>
        <div class="row">
            <div class="col-md-12">
                <div class="logos">
                    <img class="logo-dtaalbers m-3" src="../assets/images/logo-dtaalbers.png" alt="logo dtaalbers">
                    <img class="logo-aurelia" src="../assets/images/logo-aurelia.png" alt="logo aurelia">
                </div>
                <div class="header">Aurelia Datatable</div>
                <div class="subheader">A highly customizable html datatable, build for the Aurelia Framework.</div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="footer-message mt-3">
                    Passionately built by&nbsp;<a href="http://dtaalbers.com" target="_blank">dtaalbers</a>.
                </div>
            </div>
        </div>
    </div>
    <div class="container p-0 table-container table-responsive my-5">
        <div class="row m-0">
            <div class="col-12 p-0">
                <div class="header w-100">
                    <div class="row py-3 m-0">
                        <div class="col-4">
                            <au-datatable-search debounce="300" placeholder="Search.." input-class="form-control" on-search-change.bind="fetch" request.bind="request">
                            </au-datatable-search>
                        </div>
                        <div class="col-6"></div>
                        <div class="col-2">
                            <au-datatable-pagesize page-sizes.bind="[25,50,100]" classes="form-control" on-page-size-change.bind="fetch" request.bind="request">
                            </au-datatable-pagesize>
                        </div>
                    </div>
                </div>
                <table class="table table-bordered table-striped mb-0" au-datatable="on-init.bind: fetch; request.bind: request;">
                    <thead au-datatable-sort="on-sort.bind: fetch; request.bind: request">
                        <tr>
                            <th></th>
                            <th data-name="Fullname">Fullname</th>
                            <th data-name="Age">Age</th>
                            <th data-name="Username">Username</th>
                            <th data-name="Email">Email</th>
                        </tr>
                        <tr as-element="au-datatable-filter" on-filter.bind="fetch" btn-classes="btn btn-default filter-button" filters.bind="filters" columns.bind="[1,2,3,4]" request.bind="request">
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="item of request.data">
                            <td><img src="${ item.thumbnail }"></td>
                            <td>${ item.name }</td>
                            <td>${ item.age }</td>
                            <td>${ item.username }</td>
                            <td>${ item.email }</td>
                        </tr>
                    </tbody>
                </table>
                <div class="footer">
                    <div class="row px-3 pt-3 pb-0">
                        <div class="col-md-8 pt-1">
                            <au-datatable-info request.bind="request"></au-datatable-info>
                        </div>
                        <div class="col-md-4">
                            <au-datatable-pagination class="float-right" on-next-page.bind="fetch" on-previous-page.bind="fetch" on-page-change.bind="fetch" request.bind="request">
                            </au-datatable-pagination>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>